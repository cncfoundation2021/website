// Script to create separate pages for left pane items
const fs = require('fs');
const path = require('path');

// Load sitemap
const sitemap = JSON.parse(fs.readFileSync('config/sitemap.json', 'utf8'));

// Base template for left pane pages
const leftPaneTemplate = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}} - CNC Foundation</title>
    <meta name="description" content="{{description}}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{{cssPath}}">
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="page-wrapper">
        <div class="container">
            <!-- Header -->
            <header class="header" role="banner">
                <div class="header-top">
                    <div class="contact-info">
                        <span class="phone">
                            <i class="fas fa-phone" aria-hidden="true"></i>
                            9387102011
                        </span>
                    </div>
                    <div class="header-actions">
                        <div class="language-switcher">
                            <select id="language-select" aria-label="Select language">
                                <option value="en">English</option>
                                <option value="as">Assamese</option>
                            </select>
                        </div>
                        <div class="search-container">
                            <input type="search" id="search-input" placeholder="Search..." aria-label="Search">
                            <button class="search-btn" type="button" aria-label="Search">
                                <i class="fas fa-search" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="logo-section">
                    <div class="logo">
                        <h1>CARE & CURE FOUNDATION</h1>
                        <p class="tagline">Manufacturing Excellence Across Assam</p>
                    </div>
                </div>
            </header>

            <!-- Top Navigation -->
            <nav class="top-navigation" role="navigation" aria-label="Main navigation">
                <div class="nav-container">
                    <div class="nav-links" id="top-nav-links" role="menubar">
                        <!-- Navigation will be generated by JavaScript -->
                    </div>
                </div>
            </nav>

            <!-- Main Layout with Left Sidebar -->
            <div class="main-layout">
                <!-- Left Sidebar -->
                <aside class="left-sidebar" role="complementary" aria-label="Company Information">
                    <h2>Company Information</h2>
                    <nav class="sidebar-nav" role="navigation" aria-label="Company navigation">
                        <ul>
                            <li><a href="/left-pane/about-us" class="sidebar-link {{activeClass}}" data-section="about-us">
                                <i class="fas fa-info-circle" aria-hidden="true"></i>
                                <span>About Us</span>
                            </a></li>
                            <li><a href="/left-pane/key-contacts" class="sidebar-link {{activeClass}}" data-section="key-contacts">
                                <i class="fas fa-address-book" aria-hidden="true"></i>
                                <span>Key Contacts</span>
                            </a></li>
                            <li><a href="/left-pane/organisational-chart" class="sidebar-link {{activeClass}}" data-section="organisational-chart">
                                <i class="fas fa-sitemap" aria-hidden="true"></i>
                                <span>Organisational Chart</span>
                            </a></li>
                            <li><a href="/left-pane/mission-vission" class="sidebar-link {{activeClass}}" data-section="mission-vission">
                                <i class="fas fa-bullseye" aria-hidden="true"></i>
                                <span>Mission & Vision</span>
                            </a></li>
                            <li><a href="/left-pane/online-marketing" class="sidebar-link {{activeClass}}" data-section="online-marketing">
                                <i class="fas fa-globe" aria-hidden="true"></i>
                                <span>Online Marketing</span>
                            </a></li>
                            <li><a href="/left-pane/marketing-research" class="sidebar-link {{activeClass}}" data-section="marketing-research">
                                <i class="fas fa-chart-line" aria-hidden="true"></i>
                                <span>Marketing Research</span>
                            </a></li>
                            <li><a href="/left-pane/social-media" class="sidebar-link {{activeClass}}" data-section="social-media">
                                <i class="fas fa-share-alt" aria-hidden="true"></i>
                                <span>Social Media</span>
                            </a></li>
                            <li><a href="/left-pane/employee-management" class="sidebar-link {{activeClass}}" data-section="employee-management">
                                <i class="fas fa-users" aria-hidden="true"></i>
                                <span>Employee Management</span>
                            </a></li>
                            <li><a href="/left-pane/business-tie-ups" class="sidebar-link {{activeClass}}" data-section="business-tie-ups">
                                <i class="fas fa-handshake" aria-hidden="true"></i>
                                <span>Business Tie Ups</span>
                            </a></li>
                            <li><a href="/left-pane/grievances" class="sidebar-link {{activeClass}}" data-section="grievances">
                                <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
                                <span>Grievances</span>
                            </a></li>
                            <li><a href="/left-pane/gallery-publications" class="sidebar-link {{activeClass}}" data-section="gallery-publications">
                                <i class="fas fa-images" aria-hidden="true"></i>
                                <span>Gallery & Publications</span>
                            </a></li>
                            <li><a href="/left-pane/announcements" class="sidebar-link {{activeClass}}" data-section="announcements">
                                <i class="fas fa-bullhorn" aria-hidden="true"></i>
                                <span>Announcements</span>
                            </a></li>
                            <li><a href="/left-pane/search" class="sidebar-link {{activeClass}}" data-section="search">
                                <i class="fas fa-search" aria-hidden="true"></i>
                                <span>Search</span>
                            </a></li>
                            <li><a href="/left-pane/contact-us" class="sidebar-link {{activeClass}}" data-section="contact-us">
                                <i class="fas fa-envelope" aria-hidden="true"></i>
                                <span>Contact Us</span>
                            </a></li>
                        </ul>
                    </nav>
                </aside>

                <!-- Main Content -->
                <main id="main-content" class="main-content">
                    <div class="page-header">
                        <h1>{{pageTitle}}</h1>
                        <p class="page-description">{{pageDescription}}</p>
                    </div>
                    
                    <div class="content-section">
                        {{content}}
                    </div>
                </main>
            </div>

            <!-- Footer -->
            <footer class="footer" role="contentinfo">
                <div class="footer-content">
                    <div class="footer-section">
                        <h3>Quick Links</h3>
                        <ul>
                            <li><a href="/left-pane/about-us">About Us</a></li>
                            <li><a href="/left-pane/contact-us">Contact Us</a></li>
                            <li><a href="/left-pane/grievances">Grievances</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h3>Services</h3>
                        <ul>
                            <li><a href="/offerings/manufacturing-of-products">Manufacturing</a></li>
                            <li><a href="/offerings/supply-of-products">Supply</a></li>
                            <li><a href="/offerings/services">Services</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h3>Contact Info</h3>
                        <p>Phone: 9387102011</p>
                        <p>Email: cncfoundation2021@gmail.com</p>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; 2024 CNC Foundation. All rights reserved.</p>
                </div>
            </footer>
        </div>
    </div>

    <!-- Scripts -->
    <script src="{{jsPath}}"></script>
    <script src="{{mainJsPath}}"></script>
</body>
</html>`;

// Content generators for left pane pages
function getLeftPaneContent(slug) {
    const contentMap = {
        'about-us': {
            title: 'About Us',
            content: `
                <div class="about-section">
                    <h2>About CNC Foundation</h2>
                    <p>CNC Foundation is a leading organization in Assam dedicated to manufacturing excellence, supply chain management, and e-business solutions.</p>
                    
                    <div class="about-grid">
                        <div class="about-card">
                            <h3>Our Mission</h3>
                            <p>To provide quality products and services while contributing to the economic development of Assam.</p>
                        </div>
                        <div class="about-card">
                            <h3>Our Vision</h3>
                            <p>To be the most trusted partner for manufacturing and business solutions in Northeast India.</p>
                        </div>
                    </div>
                    
                    <div class="company-stats">
                        <h3>Company Statistics</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-number">500+</span>
                                <span class="stat-label">Projects Completed</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">50+</span>
                                <span class="stat-label">Distributors</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">24/7</span>
                                <span class="stat-label">Support</span>
                            </div>
                        </div>
                    </div>
                </div>
            `
        },
        'key-contacts': {
            title: 'Key Contacts',
            content: `
                <div class="contacts-section">
                    <h2>Key Contacts</h2>
                    <div class="contacts-grid">
                        <div class="contact-card">
                            <h3>General Inquiries</h3>
                            <p><strong>Phone:</strong> 9387102011</p>
                            <p><strong>Email:</strong> cncfoundation2021@gmail.com</p>
                            <p><strong>Address:</strong> Guwahati, Assam</p>
                        </div>
                        <div class="contact-card">
                            <h3>Business Development</h3>
                            <p><strong>Phone:</strong> +91-9876543210</p>
                            <p><strong>Email:</strong> business@cncfoundation.com</p>
                        </div>
                        <div class="contact-card">
                            <h3>Technical Support</h3>
                            <p><strong>Phone:</strong> +91-9876543211</p>
                            <p><strong>Email:</strong> support@cncfoundation.com</p>
                        </div>
                    </div>
                </div>
            `
        },
        'organisational-chart': {
            title: 'Organisational Chart',
            content: `
                <div class="org-chart-section">
                    <h2>Organisational Structure</h2>
                    <div class="org-chart">
                        <div class="org-level">
                            <div class="org-position">Managing Director</div>
                        </div>
                        <div class="org-level">
                            <div class="org-position">Operations Manager</div>
                            <div class="org-position">Finance Manager</div>
                            <div class="org-position">Marketing Manager</div>
                        </div>
                        <div class="org-level">
                            <div class="org-position">Production Team</div>
                            <div class="org-position">Sales Team</div>
                            <div class="org-position">Support Team</div>
                        </div>
                    </div>
                </div>
            `
        },
        'mission-vission': {
            title: 'Mission & Vision',
            content: `
                <div class="mission-vision-section">
                    <div class="mission-card">
                        <h2>Our Mission</h2>
                        <p>To provide high-quality manufacturing, supply chain, and e-business solutions that contribute to the economic growth and development of Assam and Northeast India.</p>
                        <ul>
                            <li>Deliver excellence in all our products and services</li>
                            <li>Foster innovation and technological advancement</li>
                            <li>Build strong partnerships with local communities</li>
                            <li>Maintain the highest standards of quality and integrity</li>
                        </ul>
                    </div>
                    <div class="vision-card">
                        <h2>Our Vision</h2>
                        <p>To be the leading organization in Northeast India, recognized for our commitment to quality, innovation, and community development.</p>
                        <ul>
                            <li>Expand our reach across all Northeast states</li>
                            <li>Become a trusted partner for government and private sector</li>
                            <li>Contribute to sustainable development goals</li>
                            <li>Create employment opportunities for local youth</li>
                        </ul>
                    </div>
                </div>
            `
        },
        'online-marketing': {
            title: 'Online Marketing',
            content: `
                <div class="marketing-section">
                    <h2>Online Marketing Services</h2>
                    <div class="marketing-services">
                        <div class="service-card">
                            <h3>Digital Marketing</h3>
                            <p>Comprehensive digital marketing solutions to boost your online presence.</p>
                            <ul>
                                <li>Social media marketing</li>
                                <li>Search engine optimization</li>
                                <li>Content marketing</li>
                                <li>Email campaigns</li>
                            </ul>
                        </div>
                        <div class="service-card">
                            <h3>Website Development</h3>
                            <p>Professional website design and development services.</p>
                            <ul>
                                <li>Responsive design</li>
                                <li>E-commerce solutions</li>
                                <li>Content management</li>
                                <li>SEO optimization</li>
                            </ul>
                        </div>
                    </div>
                </div>
            `
        },
        'marketing-research': {
            title: 'Marketing Research',
            content: `
                <div class="research-section">
                    <h2>Marketing Research Services</h2>
                    <div class="research-info">
                        <div class="research-card">
                            <h3>Market Analysis</h3>
                            <p>Comprehensive market research to help you understand your target audience and competition.</p>
                            <ul>
                                <li>Market size analysis</li>
                                <li>Competitor research</li>
                                <li>Customer behavior studies</li>
                                <li>Trend analysis</li>
                            </ul>
                        </div>
                        <div class="research-card">
                            <h3>Research Methods</h3>
                            <ul>
                                <li>Surveys and questionnaires</li>
                                <li>Focus groups</li>
                                <li>Data analysis</li>
                                <li>Report generation</li>
                            </ul>
                        </div>
                    </div>
                </div>
            `
        },
        'social-media': {
            title: 'Social Media',
            content: `
                <div class="social-media-section">
                    <h2>Social Media Management</h2>
                    <div class="social-platforms">
                        <div class="platform-card">
                            <h3>Facebook</h3>
                            <p>Connect with us on Facebook for updates and news.</p>
                            <a href="#" class="btn btn-primary">Follow Us</a>
                        </div>
                        <div class="platform-card">
                            <h3>Instagram</h3>
                            <p>Follow our Instagram for visual content and behind-the-scenes.</p>
                            <a href="#" class="btn btn-primary">Follow Us</a>
                        </div>
                        <div class="platform-card">
                            <h3>LinkedIn</h3>
                            <p>Connect with us professionally on LinkedIn.</p>
                            <a href="#" class="btn btn-primary">Connect</a>
                        </div>
                    </div>
                </div>
            `
        },
        'employee-management': {
            title: 'Employee Management',
            content: `
                <div class="employee-section">
                    <h2>Employee Management</h2>
                    <div class="employee-info">
                        <div class="employee-card">
                            <h3>HR Services</h3>
                            <p>Comprehensive human resource management services for your organization.</p>
                            <ul>
                                <li>Recruitment and selection</li>
                                <li>Training and development</li>
                                <li>Performance management</li>
                                <li>Employee relations</li>
                            </ul>
                        </div>
                        <div class="employee-card">
                            <h3>Benefits</h3>
                            <ul>
                                <li>Competitive salary packages</li>
                                <li>Health insurance</li>
                                <li>Professional development</li>
                                <li>Work-life balance</li>
                            </ul>
                        </div>
                    </div>
                </div>
            `
        },
        'business-tie-ups': {
            title: 'Business Tie-ups',
            content: `
                <div class="tieups-section">
                    <h2>Business Partnerships</h2>
                    <div class="partnership-info">
                        <div class="partnership-card">
                            <h3>Partnership Opportunities</h3>
                            <p>Explore various partnership opportunities with CNC Foundation.</p>
                            <ul>
                                <li>Distributor partnerships</li>
                                <li>Supplier collaborations</li>
                                <li>Joint ventures</li>
                                <li>Franchise opportunities</li>
                            </ul>
                        </div>
                        <div class="partnership-card">
                            <h3>Benefits</h3>
                            <ul>
                                <li>Shared resources</li>
                                <li>Market expansion</li>
                                <li>Risk sharing</li>
                                <li>Mutual growth</li>
                            </ul>
                        </div>
                    </div>
                </div>
            `
        },
        'grievances': {
            title: 'Grievances',
            content: `
                <div class="grievances-section">
                    <h2>Grievance Redressal</h2>
                    <div class="grievance-info">
                        <div class="grievance-card">
                            <h3>Lodge a Grievance</h3>
                            <p>We take all grievances seriously and ensure timely resolution.</p>
                            <form class="grievance-form">
                                <div class="form-group">
                                    <label for="grievance-type">Type of Grievance</label>
                                    <select id="grievance-type">
                                        <option value="service">Service Related</option>
                                        <option value="product">Product Related</option>
                                        <option value="billing">Billing Related</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="grievance-details">Details</label>
                                    <textarea id="grievance-details" rows="4"></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">Submit Grievance</button>
                            </form>
                        </div>
                    </div>
                </div>
            `
        },
        'gallery-publications': {
            title: 'Gallery & Publications',
            content: `
                <div class="gallery-section">
                    <h2>Gallery & Publications</h2>
                    <div class="gallery-content">
                        <div class="gallery-grid">
                            <div class="gallery-item">
                                <h3>Photo Gallery</h3>
                                <p>View our latest photos and events.</p>
                                <button class="btn btn-secondary">View Gallery</button>
                            </div>
                            <div class="gallery-item">
                                <h3>Publications</h3>
                                <p>Download our latest publications and reports.</p>
                                <button class="btn btn-secondary">View Publications</button>
                            </div>
                        </div>
                    </div>
                </div>
            `
        },
        'announcements': {
            title: 'Announcements',
            content: `
                <div class="announcements-section">
                    <h2>Latest Announcements</h2>
                    <div class="announcements-list">
                        <div class="announcement-item">
                            <h3>New Product Launch</h3>
                            <p class="announcement-date">December 15, 2024</p>
                            <p>We are excited to announce the launch of our new product line.</p>
                        </div>
                        <div class="announcement-item">
                            <h3>Holiday Schedule</h3>
                            <p class="announcement-date">December 10, 2024</p>
                            <p>Our office will be closed from December 25-26 for Christmas holidays.</p>
                        </div>
                        <div class="announcement-item">
                            <h3>Service Update</h3>
                            <p class="announcement-date">December 5, 2024</p>
                            <p>We have updated our service procedures for better customer experience.</p>
                        </div>
                    </div>
                </div>
            `
        },
        'search': {
            title: 'Search',
            content: `
                <div class="search-section">
                    <h2>Search</h2>
                    <div class="search-interface">
                        <div class="search-box">
                            <input type="search" placeholder="Search our website..." class="search-input">
                            <button class="btn btn-primary">Search</button>
                        </div>
                        <div class="search-filters">
                            <h3>Filter by Category</h3>
                            <div class="filter-options">
                                <label><input type="checkbox" value="products"> Products</label>
                                <label><input type="checkbox" value="services"> Services</label>
                                <label><input type="checkbox" value="news"> News</label>
                                <label><input type="checkbox" value="announcements"> Announcements</label>
                            </div>
                        </div>
                    </div>
                </div>
            `
        },
        'contact-us': {
            title: 'Contact Us',
            content: `
                <div class="contact-section">
                    <h2>Contact Us</h2>
                    <div class="contact-info">
                        <div class="contact-details">
                            <h3>Get in Touch</h3>
                            <div class="contact-item">
                                <i class="fas fa-phone"></i>
                                <span>9387102011</span>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-envelope"></i>
                                <span>cncfoundation2021@gmail.com</span>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>Guwahati, Assam, India</span>
                            </div>
                        </div>
                        <div class="contact-form">
                            <h3>Send us a Message</h3>
                            <form>
                                <div class="form-group">
                                    <input type="text" placeholder="Your Name" required>
                                </div>
                                <div class="form-group">
                                    <input type="email" placeholder="Your Email" required>
                                </div>
                                <div class="form-group">
                                    <textarea placeholder="Your Message" rows="4" required></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">Send Message</button>
                            </form>
                        </div>
                    </div>
                </div>
            `
        }
    };

    return contentMap[slug] || {
        title: slug.replace(/-/g, ' ').toUpperCase(),
        content: `
            <div class="default-section">
                <h2>${slug.replace(/-/g, ' ').toUpperCase()}</h2>
                <p>This page is under construction. Content will be added soon.</p>
                <div class="coming-soon">
                    <h3>Coming Soon</h3>
                    <p>We are working on adding content for this section. Please check back later.</p>
                </div>
            </div>
        `
    };
}

function generateLeftPanePage(slug) {
    const pageData = getLeftPaneContent(slug);
    const title = pageData.title;
    const description = `Information about ${title.toLowerCase()}`;
    
    // Calculate relative paths
    const cssPath = '../styles/main.css';
    const jsPath = '../lib/menu.js';
    const mainJsPath = '../scripts/main.js';
    
    return leftPaneTemplate
        .replace(/\{\{title\}\}/g, title)
        .replace(/\{\{description\}\}/g, description)
        .replace(/\{\{pageTitle\}\}/g, title)
        .replace(/\{\{pageDescription\}\}/g, description)
        .replace(/\{\{content\}\}/g, pageData.content)
        .replace(/\{\{cssPath\}\}/g, cssPath)
        .replace(/\{\{jsPath\}\}/g, jsPath)
        .replace(/\{\{mainJsPath\}\}/g, mainJsPath)
        .replace(/\{\{activeClass\}\}/g, `data-section="${slug}"`);
}

// Generate all left pane pages
const leftPaneItems = sitemap.sitemap.leftPane;

console.log('Generating left pane pages...');

leftPaneItems.forEach(item => {
    const html = generateLeftPanePage(item.slug);
    const filePath = `left-pane/${item.slug}.html`;
    const dir = path.dirname(filePath);
    
    // Create directory if it doesn't exist
    if (!fs.existsSync(dir)) {
        fs.mkdirSync(dir, { recursive: true });
    }
    
    // Write file
    fs.writeFileSync(filePath, html);
    console.log(`Generated: ${filePath}`);
});

console.log('All left pane pages generated successfully!');
